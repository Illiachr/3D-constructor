/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,o,c,a,r,i,s,l,u,m,d,v,f,h,p,y,g,q=function(e,t,n){var o=document.createElement(n),c=document.querySelector(t);return o.classList.add(e),c.append(o),o},L=function(e,t){var n,o=Math.round(e/10/2),c=0;t.textContent=0,n=requestAnimationFrame((function a(){c<=e?(t.textContent=c,n=requestAnimationFrame(a),c+=o):(t.textContent=e,cancelAnimationFrame(n))}))},S=function(e){var t=document.getElementById(e),n=document.createElement("h3");n.style.cssText="font-size: 2rem;",t.addEventListener("input",(function(e){var t=e.target;(t.matches("input[name=user_name]")||t.matches("input[name=user_message]"))&&(t.value=t.value.replace(/[^аА-яёЯЁ ]/,"")),t.matches("input[name=user_phone]")&&(t.value=t.value.replace(/^\+{2,}[^\d]/,"")),t.matches("input[name=user_email]")&&(t.value=t.value.replace(/[^a-z-0-9@.]/i,""))})),t.addEventListener("submit",(function(e){e.preventDefault();var o,c=new FormData(t),a={};t.appendChild(n),c.forEach((function(e,t){return a[t]=e})),n.textContent="Загрузка...",(o=a,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).then((function(e){if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы скоро с Вами свяжемся"})).catch((function(e){n.textContent="Что-то пошло не так...",console.error(e)})).finally(t.reset())}))};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1 january 2021",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#timer-hours",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#timer-minutes",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#timer-seconds",c=document.querySelector(t),a=document.querySelector(n),r=document.querySelector(o),i=function(){var t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{timeToStop:t,hours:Math.floor(t/60/60),minutes:o,seconds:n}},s=function e(){var t=i();c.textContent=t.hours<10?"0".concat(t.hours):t.hours,a.textContent=t.minutes<10?"0".concat(t.minutes):t.minutes,r.textContent=t.seconds<10?"0".concat(t.seconds):t.seconds,t.timeToStop<0?(c.textContent="00",a.textContent="00",r.textContent="00",clearInterval()):setInterval(e,1e3)};s()}(),e=document.querySelector(".menu"),t=document.querySelector("menu"),n=function(){t.classList.toggle("active-menu"),t.classList.contains("active-menu")?e.style.display="none":e.style.display="block"},o=0,document.querySelector("html").addEventListener("click",(function(c){var a,r,i,s,l,u,m=c.target;m.classList.contains("close-btn")&&n(),t.classList.contains("active-menu")&&!m.classList.contains("active-menu")&&n(),m.closest(".menu")&&(screen.width>768?(a=-100,t.classList.contains("active-menu")&&t.classList.remove("active-menu"),requestAnimationFrame((function n(){t.style.transform="translateX("+a+"%)",(a+=2.7)<100?requestAnimationFrame(n):(t.classList.add("active-menu"),t.style.transform="",e.style.display="none")}))):n()),m.closest("main a")&&document.querySelector(".service").scrollIntoView({block:"center",behavior:"auto"}),m.closest("menu li")&&(r=m.closest("menu li a"),2e3,i=document.querySelector("#".concat(r.href.split("#")[1])).getBoundingClientRect().top,s=window.pageYOffset,l=i-s,Date.now(),u=null,0===window.pageYOffset&&(o=requestAnimationFrame((function e(t){null===u&&(u=t);var n,c,a,r=t-u,i=(n=r,c=s,a=l,(n/=1e3)<1?a/2*n*n+c:-a/2*(--n*(n-2)-1)+c);scrollTo(0,i),r<2e3?o=requestAnimationFrame(e):cancelAnimationFrame(o)}))))})),c=document.querySelector(".popup"),document.querySelectorAll(".popup-btn").forEach((function(e){return e.addEventListener("click",(function(){return c.style.display="block"}))})),c.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")&&(c.style.display="none"),(t=t.closest(".popup-content"))||(c.style.display="none")})),p=document.querySelector(".service-header"),y=document.querySelectorAll(".service-header-tab"),g=document.querySelectorAll(".service-tab"),p.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&y.forEach((function(e,n){e===t&&function(e){for(var t=0;t<g.length;t++)e===t?(y[t].classList.add("active"),g[t].classList.remove("d-none")):(y[t].classList.remove("active"),g[t].classList.add("d-none"))}(n)}))})),i=document.querySelectorAll(".portfolio-item"),s=document.querySelector(".portfolio-content"),l=function(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"li",a=document.querySelectorAll(t);q(o,e,"ul");for(var r=0;r<a.length;r++)q(n,".".concat(o),c);var i=document.querySelectorAll(".".concat(n));return i[0].classList.add("".concat(n,"-active")),i}(".portfolio-content",".portfolio-item","dot","portfolio-dots"),u=0,m=0,d=function(e,t,n){e[t].classList.remove(n)},v=function(e,t,n){e[t].classList.add(n)},f=function(){d(i,u,"portfolio-item-active"),d(l,u,"dot-active"),++u>=i.length&&(u=0),v(i,u,"portfolio-item-active"),v(l,u,"dot-active")},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;m=setInterval(f,e)},s.addEventListener("click",(function(e){e.preventDefault();var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&(d(i,u,"portfolio-item-active"),d(l,u,"dot-active"),t.matches("#arrow-right")?u++:t.matches("#arrow-left")?u--:t.matches(".dot")&&l.forEach((function(e,n){e===t&&(u=n)})),u>=i.length&&(u=0),u<0&&(u=i.length-1),v(i,u,"portfolio-item-active"),v(l,u,"dot-active"))})),s.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(m)})),s.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&h()})),h(1500),(r=document.getElementById("command")).addEventListener("mouseover",(function(e){e.target.matches(".command__photo")&&(a=e.target.src,e.target.src=e.target.dataset.img)})),r.addEventListener("mouseout",(function(e){e.target.matches(".command__photo")&&(e.target.src=a)})),document.querySelector(".calc-block").addEventListener("input",(function(e){e.target.matches(".calc-block input[type=text]")&&(e.target.value=e.target.value.replace(/\D/,""))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),r=document.getElementById("total"),i=function(){var t=0,i=1,s=1,l=+n.value,u=+o.value;c.value>1&&(i+=(c.value-1)/10),a.value&&a.value<5?s*=2:a.value&&a.value<10&&(s*=1.5),l&&u&&(t=Math.ceil(e*l*u*i*s)),t>0?L(t,r):r.textContent=t};t.addEventListener("change",(function(e){(e.target.matches("select")||e.target.matches("input"))&&i()}))}(100),S("form1"),S("form2"),S("form3")})();